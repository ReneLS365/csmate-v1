:root{--bg:#1e1f22;--elev:#26272b;--panel:#2d2f34;--text:#f4f4f6;--muted:#c8c9ce;--border:#3b3d45;--accent:#8ea0b5}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
header{position:sticky;top:0;background:var(--elev);border-bottom:1px solid var(--border);z-index:5}
header .bar{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:10px}
header .ttl{font-weight:700}
nav{display:flex;gap:8px}
nav button{background:#34353b;color:var(--text);border:1px solid var(--border);border-radius:12px;padding:12px 16px;min-height:44px}
nav button.active{outline:2px solid var(--accent)}
main{padding:12px}
fieldset{border:1px solid var(--border);background:var(--panel);border-radius:12px;margin:10px 0}
legend{color:var(--muted)}
input,select,button{background:var(--panel);color:var(--text);border:1px solid var(--border);border-radius:10px;min-height:44px;padding:10px}
button{cursor:pointer}
.row{display:flex;gap:8px;flex-wrap:wrap}
.grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px}
.materials{max-height:60vh;overflow:auto}
.total{background:var(--elev);border:1px solid var(--border);border-radius:12px;padding:12px;margin-top:8px}
.keypad-overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:flex-end;justify-content:center;z-index:9999}
.keypad-overlay.show{display:flex}
.keypad{width:100%;max-width:460px;background:var(--panel);border:1px solid var(--border);border-radius:18px 18px 0 0;padding:16px 16px 10px}
.keypad-display{font-size:24px;text-align:right;padding:8px 12px;border:1px dashed var(--border);border-radius:12px;margin-bottom:10px;min-height:44px}
.keypad-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.keypad-grid button{min-height:56px;border-radius:14px;background:#3a3c43;border:1px solid var(--border);font-size:18px}
.keypad-grid .ok{background:#4a4f59}
.keypad-close{margin-top:8px;width:100%;min-height:44px;border-radius:12px;border:1px solid var(--border);background:#3a3c43}
@media print{header,nav,.no-print,.keypad-overlay{display:none!important}}