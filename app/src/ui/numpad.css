/* === NUMPAD: fullscreen overlay & keypad layout === */
.csm-np-overlay{
  position:fixed;
  inset:0;
  display:none;
  align-items:stretch;
  justify-content:stretch;
  background:rgba(0,0,0,.5);
  z-index:9999;
  touch-action:none;
  -webkit-tap-highlight-color:transparent;
}

.csm-np-overlay.open{display:flex;}

.csm-np{
  width:100%;
  height:100%;
  box-sizing:border-box;
  background:#1e1f22;
  color:#e7e7e7;
  display:flex;
  flex-direction:column;
  padding:12px 16px calc(12px + env(safe-area-inset-bottom, 0));
  min-height:var(--vp-height, 100%);
  overflow:hidden;
}

.csm-np-overlay.no-backdrop-close{pointer-events:none;}
.csm-np-overlay.no-backdrop-close .csm-np{pointer-events:auto;}

.csm-np-display{
  font-size:28px;
  text-align:right;
  padding:12px 16px;
  background:#2a2b30;
  border-radius:12px;
  margin-bottom:12px;
  min-height:48px;
  overflow-x:auto;
}

.csm-np-grid{
  display:grid;
  grid-template-columns:repeat(4,minmax(0,1fr));
  gap:10px;
  grid-auto-rows:clamp(44px, 9svh, 64px);
}

.csm-np-btn{
  padding:0;
  height:100%;
  border-radius:12px;
  border:0;
  color:#fff;
  font-size:20px;
  background:#2f3136;
}

.csm-np-btn:active{transform:scale(.98);}

.csm-np-op{background:#3b3d43;}

.csm-np-footer{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:12px;
}

.csm-np-confirm{
  display:block;
  width:100%;
  padding:14px 16px;
  border:0;
  border-radius:12px;
  background:#2aa34a;
  color:#fff;
  font-weight:700;
  font-size:18px;
}

.csm-np-cancel{
  display:block;
  width:100%;
  padding:14px 16px;
  border:0;
  border-radius:12px;
  background:#b4342a;
  color:#fff;
  font-weight:700;
  font-size:18px;
}

@supports not (height: 100dvh){
  .csm-np{min-height:var(--vp-height, 100%);}
}

.csm-np button,
.csm-np input{font-size:1rem;}
